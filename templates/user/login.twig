{% extends "layout.twig" %}

{% block header %}
{% include "navbar.twig" %}
{% endblock %}

{% block content %}

<div class="container-fluid w-50 mx-auto">
    <form action="/login" method="POST" enctype="multipart/form-data">
        <div class="row mb-3">
            <div class="col-lg-10 col-12">
                <div class="form-floating">
                    <input name="username" value="{{ userDto.username }}" required type="text"
                        class="form-control {{ userDto.errors.username ? " is-invalid" }}" id="floatingUsername"
                        placeholder="Username">
                    <label for="floatingUsername">Username</label>
                    {% if userDto.errors.username %}
                    <div class="invalid-feedback">
                        {{ userDto.errors.username }}
                    </div>
                    {% endif %}
                    
                </div>
                <div class="w-100 mt-1">
                    <small class="float-end text-muted" id="unCounter"></small>
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-lg-10 col-12">
                <div class="form-floating">
                    <input name="password" required type="password" class="form-control {{userDto.errors.password ? "is-invalid"}}" id="floatingPassword"
                        placeholder="Password">
                    <label for="floatingPassword">Password</label>
                    {% if userDto.errors.password %}
                    <div class="invalid-feedback">
                        {{ userDto.errors.password }}
                    </div>
                    {% endif %}
                    <div class="mt-1 w-100">
                        <div class="float-start">
                            <input type="checkbox" id="cbPassword" class="form-check-input me-2"/><label for="cbPassword" class="text-muted">Show Password</label>
                        </div>
                        <div class="float-end align-items-end d-flex flex-column">
                            <small class="text-muted" id="pwdCounter"></small>
                            <a href="/forgetpassword">Forget Password</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-4">
                <button type="submit" class="btn btn-primary mb-3"><i class="fa fa-sign-in me-2"
                        aria-hidden="true"></i>Log In</button>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-6">
                <small class="d-block mb-3">not registered? <a href="/signup">Sign Up</a></small>
            </div>
        </div>
</div>
</form>
</div>

{% endblock %}

{% block scripts %}

<script>
    $(document).ready(e => {
        blogging.PasswordVisibilityToggle("cbPassword","floatingPassword");
    });
</script>
    
{% endblock %}